import axiox from 'axios'

/**
 * 爬数据
 * @param {String} method 请求方法
 * @param {String} url 接口地址
 * @param {Object} data 参数
 * @returns 数据
 */
export const climbData = (method, url, body) => {
  return new Promise(async (resovle, reject) => {
    const { status, message = '接口异常', data } = await axiox[method](url, {
      headers: {
        // "Host": "api.jyeoo.com",
        // "Connection": "keep-alive",
        // "DeviceID": "orFmNtx0bJNuGlrVNdaUOOc3JA5s",
        // "AppletSignature": "e6MJeX83hGElVn84U5{|Yn8n\\YYSW5P}VnH4f3E6]Zo7dZ7xdqooe5;x\\5<wiGH6PGT6RWn4RWTzPGD?",
        // "PlatformName": "AndroidPhone",
        // "Authorization": "Token 9F5BBF8F752F060B00D38F7C81686852695A463CD5661FE0848CBEADB3ACFD5EB2A9A9D95B60C7D889407F339F7DEA92D3324FD32FF0B632AD11B6367F6206811C3461C9C4E538ED4A0FC66CD81BCA483B50BAC8E80F9D54D146F462D8197A43CDD5E420AFC26D7F6F3120F0756D16C3FD3D5E4E13FAD80F9DF19CB4AEAA99426EF575EF10CF0E625E0C9982C36F32C98F2E4D811F2247A6C57EA8E0D48EA589CF9F5E073F3959791C0BAC3934214151987F24ED26D250D1D968897CD2C1EAA20EF78EFE1166012908C96E27CF59EF3F6C4A7EAD4CD784BECBECF3650358E21BE9C530E43B0A7332F150893C5732EFC31DCA294B05220A0795D0BE6D751F8BE12C32B05E90A697B65C4914A6CBC8553A969D0E937A9AED5A4177FD1787069219556AE74C767E1FF62EEA9825FEC6492BD36DE725B198AF2D85A6963834DE7AEB5C3345840CB6113CDB25FC0B7FD52160467CA1D564A5D84216E9B7E608D0503076B026BED5ED03E5DEA743A33F767DF33DA4F3B658655D20",
        // "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36 MicroMessenger/7.0.20.1781(0x6700143B) NetType/WIFI MiniProgramEnv/Windows WindowsWechat/WMPF WindowsWechat(0x63090819) XWEB/8531",
        // "Content-Type": "application/json",
        // "xweb_xhr": "1",
        // "Cookie": "jyean=NuXTxhCKmdr8yLV-mPVYiPpGVNXpmnExF2pZmfyrWrWUPDxiafKDqvd-R3oYXAS6Xb8MzQv3X7092LCpdyuelb2exJxLLqfTXengQcknpjBORvurVxB0zh00V7RhRPMq0;domain=jyeoo.com;expires=Wed;13-Mar-2024 19:22:48 GMT;path=/;HttpOnly;jy=B2C077D27C98581EFE0944175D3727ACECF04FD1CBE981449272EC19845C0FC9250293FF1D55E8DCDA700A5B64D1DED1255A5151A25D901733BB9A072DE8BA5B37425B8D5651B6A70E0A3C9FF96E45039263063B6FD78FB82C48E2D80EE56B0023CD59DB5C2F83EB230AD56B43FFC9B5B75B200BEB9B546057594FA545B3BAFFDF07241E344A09A4B56AA7DEB698863E391BBBF69C15D7F65B18A33ABA576F6DDED3A4E5344D8DCDDC7EC84EFA185C62DC45860C783C8283B13F6CC6394D0DF30549CD5551935400B7FAD3FD290E9934DE7B809950E5172C537A021618AA202A946EAD0554620A16FE2D0D7FEA85138B45586F50B9DA4A72DA118D44466609BDD0EEE0D54E23F5E5223FD7CC357B3EFC566109C3ED402F61EF71649AFEB1F21AB7F86AC4AD63A201A7AD326C8376B17812591D37F99F6839153FBA0B6230D71C552631ACF13698FA370F743868B8E1EFB6E078F35D2EDC51C4D05EA4586B34E2C66A8A620FC924E81638A4000DF6BA2B73D61F58283FF1FB7BA3DFC5636BBD9FDA997FA14272CF646CC4E55381E129DB707AD39E40F76298E719FB459EFD28D9FCDBB40D3E9ED00C4598A89F4533CC7A8D422DF63A2E8ECD116F34B35D6EA288C99E69F779388093982CB50D4BAA803AA3C6100F5971D650E35E27136A9EA1C86B7B581F0208F8434A5077887474241506F73403E2875BF4AF6691F5D6F2504BF8BDF8CBA41045C2A0E12B42364BA2F5EA4D4F3124D12C3E1A6748A1577A26284E8140FAF11CE7A93CCC8B291369AEE60A9A2955A533C5FFC8FCD015EE49F58B944F041428CD0E4FD0ADD0F1F9A47422B8271B0C8DBB011489F4019CB99E16D9E8DB8E2B1C74AA64BB918983C744E13891F1C092727C33594F68188774103C4A376848E7487CD0D7974FFB2CA0B131D93AB2C58F72B5B06F81A6E5B47DA7D3199DDF73D3E55A32B37B56B36DFEF7339B74BF5896C2FEB087E7527E63D12C616F2EEFDFCEA09912541EE49B7DDABE5EF5A2E1E27F91A0D8F9061CF1DAD234B33265DE74CB1941D0DC03622B6462EBF63815902CFE2230D0CE7FED589693E0CE5740749579E6C6E723C25F0965B3041D442347247951A3A02C4118E18C1A4996EA7DC34C973AFECD26A536BE2DDE382D12;domain=jyeoo.com;expires=Thu;11-Jan-2024 08:42:48 GMT;path=/;HttpOnly",
        // "Accept": "*/*",
        // "Sec-Fetch-Site": "cross-site",
        // "Sec-Fetch-Mode": "cors",
        // "Sec-Fetch-Dest": "empty",
        // "Referer": "https://servicewechat.com/wxc1715f27089d2708/171/page-frame.html",
        // "Accept-Encoding": "gzip",
        // "Accept-Language": "zh-CN,zh;q=0.9"

        "Host": "api.jyeoo.com",
        "Connection": "keep-alive",
        "DeviceID": "orFmNtx0bJNuGlrVNdaUOOc3JA5s",
        "AppletSignature": "e6MJeX83hGElVn84U5{|Yn8n\\YYSW5P}VnH4f3E6]Zo7dZ7xdqooe5;x\\5<wiGH6PGX}RWj5RWnzPGD?",
        "PlatformName": "AndroidPhone",
        "Authorization": "Token 9F5BBF8F752F060B00D38F7C81686852695A463CD5661FE0848CBEADB3ACFD5ED1BFFC1F8D89C9FAC31811E9014BC8F6F19A28D19A9E618160D6EAEF94B6E0FADE5CEE8C1FCFAB4C404598C95CA4EC32D973E0110EE818C8F1508699A954958285D9FCB1FA3BD1083E9FD3AE9FE774A54C18BF331EBCBE9DEF5CE4FBCD20F2D8D5D9E9C754FFB6F645D07899198E735AC3E80596BAF0E9ACDF501320D271826B",
        "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36 MicroMessenger/7.0.20.1781(0x6700143B) NetType/WIFI MiniProgramEnv/Windows WindowsWechat/WMPF WindowsWechat(0x63090819) XWEB/8531",
        "Content-Type": "application/json",
        "xweb_xhr": "1",
        "Cookie": "jyean=glt9XZfK0xDJcOfSUSKE4KFlKbPg_B-TwW-qVrz74BlFiEJidFJJMgWkUHHkYYr5TD81bLT7IKhAgTsSK5kZ7E8QABKjjAXxKB21C8JJhatXUIZ0QVFuc6uvlnQUAB_k0;domain=jyeoo.com;expires=Thu;21-Mar-2024 14:37:12 GMT;path=/;HttpOnly;jy=61E0A7DB8B8CA104B3FF2F037633F431BBD3AA3727096C9D485EFB6AE79B32AB4F2BB5AA6C38C305479D47952DF999793713A87D1816D9004180EEAE4B0A12D1CB3DC5C479A98AB8D5703A72C5086D3053584FE8BB12A169CB096584ECF1BCED56FE575B771C0E9A27A940759AF986AB9763F23CAF0874ED86121C614118F7FF91790C4C0638A5EA3E10BAFAD866FCFDDFAEBFBA8728FB93E8057E79B0C33558935DAC1DDE88CBDC4B637E43197943BDA5F9C66C21EDA51630500A3240CEA22FA3A75C4E3A83F34F2C105272C8B375CCB8BD78DF768F796FA86636783F692926C69F0D091818A3ACA3CCDE863E7E584FC5ED0B539EDE495371AADD10913440BE7357982CDF03159C82B3E2E3577D82F104310024F20438350F3B44C072C6A856AD20140A428BD8414784C841ECB05764F8EC46A3BEA6D9F8B18AAFC6EE704997A6F7F1C99F4DF74EF3F3AEE0506D08FFA05AC05855EE43AA14ADDB16D0F7CC7C586DE247D07F206146A836BAC5F6AF146B54A7D1FB2F2F5748815847B6E57E7A5DB0EC6EEA611723518A6153E86167D6;domain=jyeoo.com;expires=Fri;19-Jan-2024 03:57:13 GMT;path=/;HttpOnly",
        "Accept": "*/*",
        "Sec-Fetch-Site": "cross-site",
        "Sec-Fetch-Mode": "cors",
        "Sec-Fetch-Dest": "empty",
        "Referer": "https://servicewechat.com/wxc1715f27089d2708/171/page-frame.html",
        "Accept-Encoding": "gzip",
        "Accept-Language": "zh-CN,zh;q=0.9"
      },
      ...body
    })
    console.log(status, message)
    if (status !== 200) return Throw(Error(message))
    resovle(data)
  })
}


export const urlPre = 'http://127.0.0.1:3000/'
export const saveDB = (url, body) => {
  return new Promise(async (resolve, reject) => {
    const { status, message = '接口异常', data } = await axiox.post(`${urlPre}${url}`, body)

    if (status !== 201) return Throw(Error(message))
    resolve(data)
  })
}